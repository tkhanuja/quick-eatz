[[extend 'layout.html']]

<style>
    [v-cloak] {
        display: none;
    }
</style>
[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/utils.js"></script>
<script src="js/index.js"></script>
[[end]]

<div class="section" id="vue-target" v-cloak>
    <div v-if= 'flag'>
        <div class='container block'>
            <div class="title">Enter search parameters here:</div>
            <div class="form">
                <!-- This looks like a form, but is not.  We just need the inputs. -->
                <div class="field">
                    <div class="control">
                        <div>Search Name</div>
                        <input v-model="search_name" ></input>
                    </div>
                <label for="cuisine">Select Cuisine</label>
                
                <select name="cuisine" v-model="search_cuisine">
                    <option>American</option>
                    <option>Italian</option>
                    <option >Mediterranean</option>
                    <option >Thai</option>
                    <option>Mexican</option>
                    <option >Indian</option>
                    <option >Chinese</option>
                </select>
                    
                    <div class="control ">
                        <div>Search Cooktime</div>
                        <input v-model="search_cooktime"></input>
                    </div>
                    <div class="control ">
                        <div>Ingredient 1</div>
                        <input v-model="ingredient1"></input>
                    </div>
                    <div class="control ">
                        <div>Ingredient 2</div>
                        <input v-model="ingredient2"></input>
                    </div>
                    <div class="control ">
                        <div>Ingredient 3</div>
                        <input v-model="ingredient3"></input>
                    </div>
                    <div class="control ">
                        <div>Ingredient 4</div>
                        <input v-model="ingredient4"></input>
                    </div>
                    <div class="control ">
                        <div>Ingredient 5</div>
                        <input v-model="ingredient5"></input>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input type="submit" @click="Search" value="Search" class="button is-primary">
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div v-if='!flag'>
        <div class="control">
            <input type="submit" @click="set_flag(true)" value="Back" class="button is-success">
        </div>
        <div class = 'is-size-3 has-text-weight-semibold'>Total Results: {{total_results}}</div>
        <div v-for= 'r in results'>
            <div>
                <button @click="recipe_information(r)"class="button is-info">{{r}}</button>
            </div>
        </div>
    </div>


</div>
<script>   
    
    let url_forms = "[[=XML(url_forms)]]";
    let url_forms_auth = "[[=XML(url_forms_auth)]]";
    let url_search = "[[=XML(url_search)]]";
    let url_info = "[[=XML(url_info)]]";
    
</script>




